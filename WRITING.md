# 執筆

## YAML ブロックで記事のメタ情報を管理

dskd は md ファイルを HTML 生成の元ファイルとし、YAML ブロックにメタ情報を記述して管理しています。

YAML ブロックの書式はは記事ページとそれ以外とで異なります。

記事ページの YAML ブロックのフィールドの役割は下記の通りです。

```yaml
---
dist: "/archives/'"             // dist 配下の出力パス
type: "post"                    // src/template/ 配下のテンプレート名
cover: null                     // 記事ごとの og:image 画像の絶対パス
id: 0                           // 記事のファイル名となるユニークな値
datetime: "2022-02-07T01:23:45" // 記事のタイムスタンプ
title: "タイトル"                // 記事のタイトル
desc: "サマリー"                 // 記事の説明文
tag:                            // 記事に登録するタギング
  - "diary"
  - "TKG"
---
```

## 記事追加手順

記事 md ファイルの雛形を自動生成するコマンドを用意しています。

```bash
node task/draftPost.mjs
```

最新の記事 ID が自動で採番され `./src/post/` 配下に md ファイルが出力されます。ファイルを開いて思い思いの文章を書きましょう。

## タグ追加手順

記事にはタグを複数指定できます。

記事の YAML ブロックに `tag` フィールドで配列型式でタグ名を指定してください。

```yaml
tag:
  - "HTML"
  - "CSS"
```

タグ一覧ページは自動せ生成されます。 `src/template/index.pug` が使われます。

タグ名にはスペースやハイフンも使えますが、URL で使われる場合はアンダースコアに変換されます。

例： "Advent Calendar" → "advent_calendar"

## 年追加手順

新しい年のタイムスタンプになっている記事をビルドすると、年別記事一覧ページが自動生成されます。`src/template/index.pug` が使われます。
