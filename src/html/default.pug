-
  const INDEX = page_type === 'index'
  const POST = page_type === 'post'
  const TAG = page_type === 'tag'
  const YEAR = page_type === 'year'
  const ARCHIVES = page_type === 'archives'
  const ABOUT = page_type === 'about'
  const title = INDEX ? blog_name : page_title + ' - dskd'
  const description = INDEX ? blog_description : page_description
  const url = POST
    ? `${blog_url}${archives_base}${page_id}.html`
    : TAG || YEAR
      ? `${blog_url}${archives_base}${String(page_title).toLowerCase().replace(/[ .-]/g, '_')}.html`
      : INDEX
        ? blog_url
        : page_permalink
  const og_image = page_cover ? `${page_cover}?${blog_version}` : `/img/blog-cover.png?${blog_version}`
  const og_type = INDEX ? 'website' : 'article'

include mixin/timestamp
include mixin/tagging
include mixin/tag-list
include mixin/year-list
include mixin/subscribe-list
include mixin/contribute
include mixin/social
include mixin/neighbor
doctype html
html(lang="ja")
  head
    meta(charset="UTF-8")
    meta(
      content="viewport-fit=cover, width=device-width, initial-scale=1",
      name="viewport"
    )
    title= title
    meta(content=description, name="description")
    meta(content=url, property="og:url")
    meta(content=title, property="og:title")
    meta(content=description, property="og:description")
    meta(content=og_image, property="og:image")
    meta(content=og_type, property="og:type")
    meta(content="ja_JP", property="og:locale")
    meta(content="dskd", property="og:site_name")
    link(href=url, rel="canonical")
    link(
      href=`/img/blog-icon.png?${blog_version}`,
      rel="apple-touch-icon-precomposed"
    )
    link(href="/feed", rel="alternate", type="application/rss+xml")
    link(
      href=`/css/style.css?${blog_version}`,
      rel="stylesheet",
      media="only screen"
    )

  body(class=page_type)
    .container
      .space
      header.header
        .header__item
          if POST || ABOUT
            p.logo
              include _logo
          else
            h1.logo
              include _logo
        .header__item
          nav.nav(aria-label="サイトナビ")
            ul.nav__list
              li.nav__item
                a.nav__link(
                  class=page_type === 'archives' && '-current',
                  href="/archives/",
                  aria-current=page_type === 'archives' && 'page'
                ) 全記事一覧
              li.nav__item
                a.nav__link(
                  class=page_type === 'about' && '-current',
                  href="/about.html",
                  aria-current=page_type === 'about' && 'page'
                ) dskdとは何か？

      .space.-h60

      main.contents
        block contents

      .space

      .border

      .space

      footer.footer
        h2.visuallyHidden サイトフッター
        .author
          | 管理者は
          address.author__address: a(href=`mailto:${blog_address}`) 越智
          | です
        ul.subinfo
          li.subinfo__item
            a(
              href=`${blog_url}${blog_feed}`,
              aria-label="このブログのRSS",
              target="_blank",
              rel="noopener"
            ) RSS
          li.subinfo__item
            a(
              href="https://creativecommons.org/licenses/by-nc/4.0/deed.ja",
              rel="license noopener",
              aria-label="このブログはクリエイティブコモンズライセンス、表示−非営利 4.0 国際で提供されています",
              target="_blank"
            )
              small.license CC BY-NC

      .space
