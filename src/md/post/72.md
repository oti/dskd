---
layout: ./src/html/post.pug
page_type: "post"
page_datetime: "2015-11-27T01:12:00"
page_id: "72"
page_title: "Launch dskd v5"
page_tag:
  - "diary"
page_description: "ブログをバージョンアップした。"
---

ブログをバージョンアップした。[前回](/archives/65.html)が 4 月だが、やはり Movable Type によるビルドだと、さくさくと記事を書くというのがやりづらくなっていた。それは MT のせいではなく、原稿を md ファイルで持ちつつ git 管理し、それを手で MT にコピペして記事公開し、FTP とローカルを同期させて MT build なる commit をするフローに耐えられなかったからである。Movable Type の強力なテンプレート機能が劣っているわけではない。手元でビルドしたいという欲求に負けたにすぎない。

今回はいわゆるブログツールのようなものを自作した。一応 Node 製だけど実行は gulp を使っている。雑に言うと gulp-layout で md から HTML をビルドしている。細かくは、Yaml ブロックでブログ構築のメタ情報を記事ごとに設定し、そこから JSON をよしなに作り、それを元に記事一覧やタグ一覧などのページも作っている。Yaml ブロックの抽出には gulp-front-matter と though2、util などを使った。細かい実装は[GitHub にリポジトリがある](https://github.com/oti/dskd)。記事構築や一覧ページの管理などがまだ甘い気がするが、これ以上の改良は今回のリニューアル範囲外として v5 をリリースした。

マークアップも刷新した。また BEM に戻ってみている。マルチクラスの MindBEMding。BEM は Sass と相性がいいので&など使ってやってみたが、時間が空いたら読めなくなる感じがすでにしている。レイアウトはなんとなく float で横並びを作ったりしている。flexbox でも全然よいのだけど、ブログ来訪者の解析などはほとんどしていないので安パイで逃げたと言えばハイそうですといった感じだ。ほかにも細かい変更はあるが忘れた。手元でビルドして手元でデプロイできるというのが何より嬉しくて今の所満足している。

---

Advent Calendar の季節がもうすぐそこまで迫っている。その前に切り替えられてよかった。今年も TKG のを作っているので、興味がある人はぜひ参加してほしい。現在 15 日までは連続でうまっているが、それ以降がスッカスカである。こちらとしては残りは全部自分で埋める気概はある。TKG ポイントを日々ためているので問題ない。問題ないが、やれるなら誰かにやってほしい。卵は高いのだ。たのむ。

[TKG Advent Calendar 2015](http://www.adventar.org/calendars/720)
