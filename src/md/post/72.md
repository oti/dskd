---
layout: ./src/html/post.pug
page_type: 'post'
page_datetime: '2015-11-27T01:12:00'
page_id: '72'
page_title: 'Launch dskd v5'
page_tag:
  - 'note'
page_cover: ''
page_description: 'ブログをバージョンアップした。'
---
ブログをバージョンアップした。[前回](/archives/65.html)が4月だが、やはりMovable Typeによるビルドだと、さくさくと記事を書くというのがやりづらくなっていた。それはMTのせいではなく、原稿をmdファイルで持ちつつgit管理し、それを手でMTにコピペして記事公開し、FTPとローカルを同期させてMT buildなるcommitをするフローに耐えられなかったからである。Movable Typeの強力なテンプレート機能が劣っているわけではない。手元でビルドしたいという欲求に負けたにすぎない。

今回はいわゆるブログツールのようなものを自作した。一応Node製だけど実行はgulpを使っている。雑に言うとgulp-layoutでmdからHTMLをビルドしている。細かくは、Yamlブロックでブログ構築のメタ情報を記事ごとに設定し、そこからJSONをよしなに作り、それを元に記事一覧やタグ一覧などのページも作っている。Yamlブロックの抽出にはgulp-front-matterとthough2、utilなどを使った。細かい実装は[GitHubにリポジトリがある](https://github.com/oti/dskd)。記事構築や一覧ページの管理などがまだ甘い気がするが、これ以上の改良は今回のリニューアル範囲外としてv5をリリースした。

マークアップも刷新した。またBEMに戻ってみている。マルチクラスのMindBEMding。BEMはSassと相性がいいので&など使ってやってみたが、時間が空いたら読めなくなる感じがすでにしている。レイアウトはなんとなくfloatで横並びを作ったりしている。flexboxでも全然よいのだけど、ブログ来訪者の解析などはほとんどしていないので安パイで逃げたと言えばハイそうですといった感じだ。ほかにも細かい変更はあるが忘れた。手元でビルドして手元でデプロイできるというのが何より嬉しくて今の所満足している。

---

Advent Calendarの季節がもうすぐそこまで迫っている。その前に切り替えられてよかった。今年もTKGのを作っているので、興味がある人はぜひ参加してほしい。現在15日までは連続でうまっているが、それ以降がスッカスカである。こちらとしては残りは全部自分で埋める気概はある。TKGポイントを日々ためているので問題ない。問題ないが、やれるなら誰かにやってほしい。卵は高いのだ。たのむ。

[TKG Advent Calendar 2015](http://www.adventar.org/calendars/720)
